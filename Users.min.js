var Users={tbUsrs:function(){var e=localStorage.getItem("tbUsers");return e=JSON.parse(e),null==e&&(e=[]),e},AllUsers:function(){var e=$("#tblUsers").find("tbody");e.empty();var s=Users.tbUsrs();if(0==s.length)e.append($("<tr>").append($("<td>",{text:"Not users registered",colspan:3,align:"center"})));else for(var t in s){var r=s[t];e.append($("<tr>").append($("<td>",{text:r.User,align:"left"}),$("<td>",{text:r.Password,align:"left"}),$("<td>",{align:"center",width:150}).append($("<button>",{type:"button","class":"clsDelete",value:"Delete",onclick:"Users.Delete(this)",name:r.User,dUser:t}).append($('<img src="delete.png">')),$("<button>",{type:"button","class":"clsEdit",value:"Edit",onclick:"Users.Charge(this)",name:r.User,dUser:t}).append($('<img src="edit.png">')))))}},User:function(){var e=$("#username"),s=$("#password"),t=Users.tbUsrs();this.User=e.val(),this.Password=s.val(),t.push(this),localStorage.setItem("tbUsers",JSON.stringify(t)),alert("User Saved"),document.location="users.html"},Save:function(e){for(var s=Users.tbUsrs(),t=0;t<s.length;t++)if(e==t){var r={User:$("#editUsername").val(),Password:$("#editPassword").val()};s.splice(t,1,r)}localStorage.setItem("tbUsers",JSON.stringify(s)),alert("User Modified"),document.location="users.html"},Charge:function(e){window.location.replace("#modal2");var s=e.getAttribute("duser");$("#saveChanges").val(s);for(var t=Users.tbUsrs(),r=0;r<t.length;r++)s==r&&($("#editUsername").val(e.getAttribute("name")),$("#editPassword").val(t[r].Password),$("#editRetypePassword").val(t[r].Password))},Delete:function(e){var s=e.getAttribute("duser");if(confirm("Are you sure you want delete "+e.getAttribute("name")+" ?")){for(var t=Users.tbUsrs(),r=0;r<t.length;r++)console.log(s),console.log(t[r].User+"-"+t[r].User),r==s&&t.splice(r,1);localStorage.setItem("tbUsers",JSON.stringify(t)),Users.AllUsers()}},Verification:function(e){var s=$("#saveChanges").val(),t="",r="",a="";e?(t=$("#editUsername"),r=$("#editPassword"),a=$("#editRetypePassword")):(t=$("#username"),r=$("#password"),a=$("#retypePassword")),""!=$.trim(t.val())&&""!=$.trim(r.val())?r.val()==a.val()?e?Users.Save(s):Users.User():(alert("The password and the confirmation must be equals"),r.val("").focus()):""==$.trim(t.val())?(alert("Write the username. Please"),t.val("").focus()):(alert("Please type the password"),r.val("").focus()),Users.AllUsers()}};$(document).ready(function(){Dashboard.Logged(),Users.AllUsers()});