var Invoices={tbInvoices:function(){var e=localStorage.getItem("tbInvoices");return e=JSON.parse(e),null==e&&(e=[]),e},AllInvoices:function(){var e=$("#tbInvoices").find("tbody");e.empty();var t=Invoices.tbInvoices();if(0==t.length)e.append($("<tr>").append($("<td>",{text:"Not invoices registered",colspan:5,align:"center"})));else for(var i in t){var n=t[i];e.append($("<tr>").append($("<td>",{text:n.Client,align:"left"}),$("<td>",{text:n.Description,align:"left"}),$("<td>",{text:n.Date,align:"left"}),$("<td>",{text:n.Mount,align:"left"}),$("<td>",{align:"center",width:150}).append($("<button>",{type:"button","class":"clsDelete",value:"Delete",onclick:"Invoices.Delete(this)",dInvoice:i}).append($('<img src="delete.png">')),$("<button>",{type:"button","class":"clsEdit",value:"Edit",onclick:"Invoices.Charge(this)",dInvoice:i}).append($('<img src="edit.png">')))))}},Invoice:function(){var e=$("#client"),t=$("#description"),i=$("#date"),n=$("#mount"),o=Invoices.tbInvoices();this.Client=e.val(),this.Description=t.val(),this.Date=i.val(),this.Mount=n.val(),o.push(this),localStorage.setItem("tbInvoices",JSON.stringify(o)),alert("Invoice Saved"),document.location="invoices.html"},Save:function(e){for(var t=Invoices.tbInvoices(),i=0;i<t.length;i++)if(e==i){var n={Client:$("#editClient").val(),Description:$("#editDescription").val(),Date:$("#editDate").val(),Mount:$("#editMount").val()};t.splice(i,1,n)}localStorage.setItem("tbInvoices",JSON.stringify(t)),alert("Invoice Modified"),document.location="invoices.html"},Charge:function(e){window.location.replace("#modal2");var t=e.getAttribute("dInvoice");$("#saveChanges").val(t);for(var i=Invoices.tbInvoices(),n=0;n<i.length;n++){var o=i[n];t==n&&($("#editClient").val(o.Client),$("#editDescription").val(o.Description),$("#editDate").val(o.Date),$("#editMount").val(o.Mount))}},Delete:function(e){var t=e.getAttribute("dInvoice");if(confirm("Are you sure you want delete this invoice?")){for(var i=Invoices.tbInvoices(),n=0;n<i.length;n++)console.log(t),n==t&&i.splice(n,1);localStorage.setItem("tbInvoices",JSON.stringify(i)),Invoices.AllInvoices()}},Verification:function(e){var t=$("#saveChanges").val(),i="",n="",o="",l="";e?(i=$("#editClient"),n=$("#editDescription"),o=$("#editDate"),l=$("#editMount")):(i=$("#client"),n=$("#description"),o=$("#date"),l=$("#mount")),""!=$.trim(i.val())&&""!=$.trim(n.val())&&""!=$.trim(o.val())&&""!=$.trim(l.val())?e?Invoices.Save(t):Invoices.Invoice():""==$.trim(i.val())?(alert("Select the client from the list. Please"),$tempId.val("").focus()):alert("Please review the information. All fields are required"),Invoices.AllInvoices()},FillDataList:function(){var e=localStorage.getItem("tbClients");e=JSON.parse(e);var t="";for(var i in e){var n=e[i];t+='<option value="'+n.Fullname+'" />'}document.getElementById("clients").innerHTML=t}};$(document).ready(function(){Dashboard.Logged(),Invoices.AllInvoices(),Invoices.FillDataList()});